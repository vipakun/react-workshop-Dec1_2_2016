{"version":3,"file":null,"sources":["../src/util.js","../src/index.js"],"sourcesContent":["// DOM properties that should NOT have \"px\" added when numeric\nexport const NON_DIMENSION_PROPS = {\n\tboxFlex:1, boxFlexGroup:1, columnCount:1, fillOpacity:1, flex:1, flexGrow:1,\n\tflexPositive:1, flexShrink:1, flexNegative:1, fontWeight:1, lineClamp:1, lineHeight:1,\n\topacity:1, order:1, orphans:1, strokeOpacity:1, widows:1, zIndex:1, zoom:1\n};\n\nconst ESC = {\n\t'<': '&lt;',\n\t'>': '&gt;',\n\t'\"': '&quot;',\n\t'&': '&amp;'\n};\n\nexport const objectKeys = Object.keys || (obj => {\n\tlet keys = [];\n\tfor (let i in obj) if (obj.hasOwnProperty(i)) keys.push(i);\n\treturn keys;\n});\n\nexport let encodeEntities = s => String(s).replace(/[<>\"&]/g, escapeChar);\n\nlet escapeChar = a => ESC[a] || a;\n\nexport let falsey = v => v==null || v===false;\n\nexport let memoize = (fn, mem={}) => v => mem[v] || (mem[v] = fn(v));\n\nexport let indent = (s, char) => String(s).replace(/(\\n+)/g, '$1' + (char || '\\t'));\n\nexport let isLargeString = (s, length, ignoreLines) => (String(s).length>(length || 40) || (!ignoreLines && String(s).indexOf('\\n')!==-1) || String(s).indexOf('<')!==-1);\n\n// Convert an Object style to a CSSText string\nexport function styleObjToCss(s) {\n\tlet str = '';\n\tfor (let prop in s) {\n\t\tlet val = s[prop];\n\t\tif (val!=null) {\n\t\t\tif (str) str += ' ';\n\t\t\tstr += jsToCss(prop);\n\t\t\tstr += ': ';\n\t\t\tstr += val;\n\t\t\tif (typeof val==='number' && !NON_DIMENSION_PROPS[prop]) {\n\t\t\t\tstr += 'px';\n\t\t\t}\n\t\t\tstr += ';';\n\t\t}\n\t}\n\treturn str;\n}\n\n\n// See https://github.com/developit/preact/blob/master/src/util.js#L61\nexport function hashToClassName(c) {\n\tlet str = '';\n\tfor (let prop in c) {\n\t\tif (c[prop]) {\n\t\t\tif (str) str += ' ';\n\t\t\tstr += prop;\n\t\t}\n\t}\n\treturn str;\n}\n\n// Convert a JavaScript camel-case CSS property name to a CSS property name\nexport let jsToCss = memoize( s => s.replace(/([A-Z])/g,'-$1').toLowerCase() );\n\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn obj;\n}\n\nexport function getNodeProps(vnode) {\n\tlet defaultProps = vnode.nodeName.defaultProps,\n\t\tprops = assign({}, defaultProps || vnode.attributes);\n\tif (defaultProps) assign(props, vnode.attributes);\n\tif (vnode.children) props.children = vnode.children;\n\treturn props;\n}\n","import { objectKeys, encodeEntities, falsey, memoize, indent, isLargeString, styleObjToCss, hashToClassName, assign, getNodeProps } from './util';\n\nconst SHALLOW = { shallow: true };\n\n// components without names, kept as a hash for later comparison to return consistent UnnamedComponentXX names.\nconst UNNAMED = [];\n\nconst EMPTY = {};\n\nconst VOID_ELEMENTS = [\n\t'area',\n\t'base',\n\t'br',\n\t'col',\n\t'embed',\n\t'hr',\n\t'img',\n\t'input',\n\t'link',\n\t'meta',\n\t'param',\n\t'source',\n\t'track',\n\t'wbr'\n];\n\n\n/** Render Preact JSX + Components to an HTML string.\n *\t@name render\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n *\t@param {Object} [options={}]\tRendering options\n *\t@param {Boolean} [options.shallow=false]\tIf `true`, renders nested Components as HTML elements (`<Foo a=\"b\" />`).\n *\t@param {Boolean} [options.xml=false]\t\tIf `true`, uses self-closing tags for elements without children.\n *\t@param {Boolean} [options.pretty=false]\t\tIf `true`, adds whitespace for readability\n */\nrenderToString.render = renderToString;\n\n\n/** Only render elements, leaving Components inline as `<ComponentName ... />`.\n *\tThis method is just a convenience alias for `render(vnode, context, { shallow:true })`\n *\t@name shallow\n *\t@function\n *\t@param {VNode} vnode\tJSX VNode to render.\n *\t@param {Object} [context={}]\tOptionally pass an initial context object through the render path.\n */\nlet shallowRender = (vnode, context) => renderToString(vnode, context, SHALLOW);\n\n\n/** The default export is an alias of `render()`. */\nexport default function renderToString(vnode, context, opts, inner) {\n\tlet { nodeName, attributes, children } = vnode || EMPTY,\n\t\tisComponent = false;\n\tcontext = context || {};\n\topts = opts || {};\n\n\tlet pretty = opts.pretty,\n\t\tindentChar = typeof pretty==='string' ? pretty : '\\t';\n\n\tif (vnode==null) {\n\t\treturn '';\n\t}\n\n\t// #text nodes\n\tif (!nodeName) {\n\t\treturn encodeEntities(vnode);\n\t}\n\n\t// components\n\tif (typeof nodeName==='function') {\n\t\tisComponent = true;\n\t\tif (opts.shallow && (inner || opts.renderRootComponent===false)) {\n\t\t\tnodeName = getComponentName(nodeName);\n\t\t}\n\t\telse {\n\t\t\tlet props = getNodeProps(vnode),\n\t\t\t\trendered;\n\n\t\t\tif (!nodeName.prototype || typeof nodeName.prototype.render!=='function') {\n\t\t\t\t// stateless functional components\n\t\t\t\trendered = nodeName(props, context);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// class-based components\n\t\t\t\tlet c = new nodeName(props, context);\n\t\t\t\tc.props = props;\n\t\t\t\tc.context = context;\n\t\t\t\tif (c.componentWillMount) c.componentWillMount();\n\t\t\t\trendered = c.render(c.props, c.state, c.context);\n\n\t\t\t\tif (c.getChildContext) {\n\t\t\t\t\tcontext = assign(assign({}, context), c.getChildContext());\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn renderToString(rendered, context, opts, opts.shallowHighOrder!==false);\n\t\t}\n\t}\n\n\t// render JSX to HTML\n\tlet s = '', html;\n\n\tif (attributes) {\n\t\tlet attrs = objectKeys(attributes);\n\n\t\t// allow sorting lexicographically for more determinism (useful for tests, such as via preact-jsx-chai)\n\t\tif (opts && opts.sortAttributes===true) attrs.sort();\n\n\t\tfor (let i=0; i<attrs.length; i++) {\n\t\t\tlet name = attrs[i],\n\t\t\t\tv = attributes[name];\n\t\t\tif (name==='children') continue;\n\t\t\tif (!(opts && opts.allAttributes) && (name==='key' || name==='ref')) continue;\n\n\t\t\tif (name==='className') {\n\t\t\t\tif (attributes['class']) continue;\n\t\t\t\tname = 'class';\n\t\t\t}\n\n\t\t\tif (name==='class' && v && typeof v==='object') {\n\t\t\t\tv = hashToClassName(v);\n\t\t\t}\n\t\t\telse if (name==='style' && v && typeof v==='object') {\n\t\t\t\tv = styleObjToCss(v);\n\t\t\t}\n\n\t\t\tlet hooked = opts.attributeHook && opts.attributeHook(name, v, context, opts, isComponent);\n\t\t\tif (hooked || hooked==='') {\n\t\t\t\ts += hooked;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (name==='dangerouslySetInnerHTML') {\n\t\t\t\thtml = v && v.__html;\n\t\t\t}\n\t\t\telse if ((v || v===0) && typeof v!=='function') {\n\t\t\t\tif (v===true) {\n\t\t\t\t\tv = name;\n\t\t\t\t\t// in non-xml mode, allow boolean attributes\n\t\t\t\t\tif (!opts || !opts.xml) {\n\t\t\t\t\t\ts += ' ' + name;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ts += ` ${name}=\"${encodeEntities(v)}\"`;\n\t\t\t}\n\t\t}\n\t}\n\n\t// account for >1 multiline attribute\n\tlet sub = s.replace(/^\\n\\s*/, ' ');\n\tif (sub!==s && !~sub.indexOf('\\n')) s = sub;\n\telse if (~s.indexOf('\\n')) s += '\\n';\n\n\ts = `<${nodeName}${s}>`;\n\n\tif (html) {\n\t\t// if multiline, indent.\n\t\tif (pretty && isLargeString(html)) {\n\t\t\thtml = '\\n' + indentChar + indent(html, indentChar);\n\t\t}\n\t\ts += html;\n\t}\n\telse {\n\t\tlet len = children && children.length,\n\t\t\tpieces = [],\n\t\t\thasLarge = ~s.indexOf('\\n');\n\t\tfor (let i=0; i<len; i++) {\n\t\t\tlet child = children[i];\n\t\t\tif (!falsey(child)) {\n\t\t\t\tlet ret = renderToString(child, context, opts, true);\n\t\t\t\tif (!hasLarge && pretty && isLargeString(ret)) hasLarge = true;\n\t\t\t\tpieces.push(ret);\n\t\t\t}\n\t\t}\n\t\tif (hasLarge) {\n\t\t\tfor (let i=pieces.length; i--; ) {\n\t\t\t\tpieces[i] = '\\n' + indentChar + indent(pieces[i], indentChar);\n\t\t\t}\n\t\t}\n\t\tif (pieces.length) {\n\t\t\ts += pieces.join('');\n\t\t}\n\t\telse if (opts && opts.xml) {\n\t\t\treturn s.substring(0, s.length-1) + ' />';\n\t\t}\n\t}\n\n\tif (opts.jsx || VOID_ELEMENTS.indexOf(nodeName)===-1) {\n\t\tif (pretty && ~s.indexOf('\\n')) s += '\\n';\n\t\ts += `</${nodeName}>`;\n\t}\n\n\treturn s;\n}\n\nfunction getComponentName(component) {\n\tlet proto = component.prototype,\n\t\tctor = proto && proto.constructor;\n\treturn component.displayName || component.name || (proto && (proto.displayName || proto.name)) || getFallbackComponentName(component);\n}\n\nfunction getFallbackComponentName(component) {\n\tlet str = Function.prototype.toString.call(component),\n\t\tname = (str.match(/^\\s*function\\s+([^\\( ]+)/) || EMPTY)[1];\n\tif (!name) {\n\t\t// search for an existing indexed name for the given component:\n\t\tlet index = -1;\n\t\tfor (let i=UNNAMED.length; i--; ) {\n\t\t\tif (UNNAMED[i]===component) {\n\t\t\t\tindex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\t// not found, create a new indexed name:\n\t\tif (index<0) {\n\t\t\tindex = UNNAMED.push(component) - 1;\n\t\t}\n\t\tname = `UnnamedComponent${index}`;\n\t}\n\treturn name;\n}\nrenderToString.shallowRender = shallowRender;\n\n\nexport {\n\trenderToString as render,\n\trenderToString,\n\tshallowRender\n};\n"],"names":[],"mappings":"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"}